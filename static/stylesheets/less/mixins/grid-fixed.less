/**
 * Chickenwire: Fixed version
 * A free-range grid mixin
 *
 * @max-width ..... = mwth  (max pixel width of container)
 * @default-context = d-col (default number of columns)
 * @context ....... = c-col (if nesting, column count of container)
 * @column  ....... = t-col (target column count)
 * @gutter  ....... = gtr   (gutter)
 *
 * width = 100 / d-col * t-col
 *
*/


/**
 * Set defaults
 */
@mwth  : 980; //mwth
@d-col : 12; //Default number of columns
@gtr   : 20; //Gutter size (in pixels)
@grid-width:round( ( @mwth - ( @gtr * (@d-col - 1) ) ) /@d-col );
@grid-width-dist:floor( ( @mwth - ( @gtr * @d-col ) ) /@d-col );

/**
 * Set grid mixin
 */
	#grid{

    /**
     * To create a grid unit with a gutter on the right-hand side only.
     *
     * The last unit in a row will need the right margin set to "0"
     * Or should use the .run-last() mixin
     *
     */
		.run(@desired-cols:@d-col){
			float:left;
            width:(@grid-width * @desired-cols) + (@gtr * @desired-cols) - @gtr + 0px;
			margin-right:@gtr + 0px;
		}

	/**
     * For the last column in a row, remove the gutter
     */
		.run-last(@desired-cols:@d-col){
			float:left;
            width:(@grid-width * @desired-cols) + (@gtr * @desired-cols) - @gtr + 0px;
		}


    /**
     * To create a grid unit with half-width gutters at both sides.
     *
     * Useful for laying out thumbnail galleries and similar, where
     * is is more difficult to shave off the last gutter in a row.
     */
        .dist(@desired-cols:@d-col){
            float:left;
            width:(@grid-width-dist * @desired-cols) + (@gtr * @desired-cols) - @gtr + 0px;
            margin-right:@gtr/2 + 0px;
            margin-left:@gtr/2 + 0px;
        }


    /**
     * To create a nude grid unit with no gutters or additional properties
     */
        .nude( @desired-cols:@d-col){
            width:(@grid-width * @desired-cols) + (@gtr * @desired-cols) - @gtr + 0px;
        }


	}
